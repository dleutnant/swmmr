<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How swmmr reads and writes SWMM files • swmmr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How swmmr reads and writes SWMM files">
<meta property="og:description" content="swmmr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">swmmr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/How_swmmr_reads_and_writes_files.html">How swmmr reads and writes SWMM files</a>
    </li>
    <li>
      <a href="../articles/How_to_autocalibrate_a_SWMM_model_with_swmmr.html">How to autocalibrate a SWMM model with swmmr</a>
    </li>
    <li>
      <a href="../articles/How_to_convert_between_GIS_data_and_SWMM_with_swmmr.html">Conversion between GIS data and SWMM with swmmr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dleutnant/swmmr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How swmmr reads and writes SWMM files</h1>
                        <h4 data-toc-skip class="author">Dominik
Leutnant</h4>
            
            <h4 data-toc-skip class="date">2023-05-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dleutnant/swmmr/blob/HEAD/vignettes/How_swmmr_reads_and_writes_files.Rmd" class="external-link"><code>vignettes/How_swmmr_reads_and_writes_files.Rmd</code></a></small>
      <div class="hidden name"><code>How_swmmr_reads_and_writes_files.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-is-a-inp-file">What is a inp file?<a class="anchor" aria-label="anchor" href="#what-is-a-inp-file"></a>
</h2>
<p>US EPA’s Stormwater Management Model (SWMM) stores all relevant data
in the so called *.inp file. This plain ASCII coded file contains
information about model structure (e.g., subcatchments) and model
options (e.g. flow units, flow routing, simulation period). The file
itself is structured into sections which starts and ends with opening
and closing squared brackets (<code>[</code>, <code>]</code>).</p>
</div>
<div class="section level2">
<h2 id="which-inp-sections-are-allowed">Which inp sections are allowed?<a class="anchor" aria-label="anchor" href="#which-inp-sections-are-allowed"></a>
</h2>
<p>Currently, 51 sections are recognized. These are:</p>
<pre><code><span><span class="co">#&gt;  [1] "aquifers"      "backdrop"      "buildup"       "conduits"     </span></span>
<span><span class="co">#&gt;  [5] "controls"      "coordinates"   "coverages"     "curves"       </span></span>
<span><span class="co">#&gt;  [9] "dividers"      "dwf"           "evaporation"   "events"       </span></span>
<span><span class="co">#&gt; [13] "files"         "groundwater"   "hydrographs"   "iiflows"      </span></span>
<span><span class="co">#&gt; [17] "infiltration"  "inflows"       "junctions"     "labels"       </span></span>
<span><span class="co">#&gt; [21] "landuses"      "LID_controls"  "LID_usage"     "loadings"     </span></span>
<span><span class="co">#&gt; [25] "losses"        "map"           "options"       "orifices"     </span></span>
<span><span class="co">#&gt; [29] "outfalls"      "outlets"       "patterns"      "pollutants"   </span></span>
<span><span class="co">#&gt; [33] "polygons"      "profiles"      "pumps"         "raingages"    </span></span>
<span><span class="co">#&gt; [37] "report"        "snowpacks"     "storage"       "subareas"     </span></span>
<span><span class="co">#&gt; [41] "subcatchments" "symbols"       "tags"          "temperature"  </span></span>
<span><span class="co">#&gt; [45] "timeseries"    "title"         "treatment"     "vertices"     </span></span>
<span><span class="co">#&gt; [49] "washoff"       "weirs"         "xsections"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="what-happens-on-read_inp">What happens on <code>read_inp</code>?<a class="anchor" aria-label="anchor" href="#what-happens-on-read_inp"></a>
</h2>
<p><code>swmmr</code>’s inp parser walks through the file and separates
the file into section blocks. A section is recognized if its name is
enclosed by squared brackets. Each section has an own parsing scheme,
which especially holds header information (i.e. colnames). The result of
a parsed section is always a <code>tibble</code>, which subsequently
leads to a list of <code>tibbles</code> for the entire <code>inp</code>
file.</p>
</div>
<div class="section level2">
<h2 id="what-happens-on-write_inp">What happens on <code>write_inp</code>?<a class="anchor" aria-label="anchor" href="#what-happens-on-write_inp"></a>
</h2>
<p>The benefit of parsing the <code>inp</code> file into a list of
<code>tibbles</code> becomes clearly if a new <code>inp</code> file has
to be written to disk: <code>swmmr</code>’s inp writer just walks
through the <code>inp</code> object and writes each tibble (whitespace
separated) into one file. However, column names of sections are not
written to clearly indicate the origin of file
(i.e. <code>swmmr</code>). If column names are really required, the new
generated inp file can still be opened with SWMM and saved back with the
GUI.</p>
</div>
<div class="section level2">
<h2 id="what-is-a-rpt-file">What is a rpt file?<a class="anchor" aria-label="anchor" href="#what-is-a-rpt-file"></a>
</h2>
<p>After each SWMM simulation run, a report file (<code>*.rpt</code>) is
generated containing status reports and result summaries.</p>
</div>
<div class="section level2">
<h2 id="which-rpt-sections-are-parsed">Which rpt sections are parsed?<a class="anchor" aria-label="anchor" href="#which-rpt-sections-are-parsed"></a>
</h2>
<p>Currently, 34 report sections are recognized. These are:</p>
<pre><code><span><span class="co">#&gt;  [1] "Element Count"                    "Pollutant Summary"               </span></span>
<span><span class="co">#&gt;  [3] "Landuse Summary"                  "Raingage Summary"                </span></span>
<span><span class="co">#&gt;  [5] "Subcatchment Summary"             "Node Summary"                    </span></span>
<span><span class="co">#&gt;  [7] "Link Summary"                     "Cross Section Summary"           </span></span>
<span><span class="co">#&gt;  [9] "Analysis Options"                 "Runoff Quantity Continuity"      </span></span>
<span><span class="co">#&gt; [11] "Runoff Quality Continuity"        "Groundwater Continuity"          </span></span>
<span><span class="co">#&gt; [13] "Flow Routing Continuity"          "Quality Routing Continuity"      </span></span>
<span><span class="co">#&gt; [15] "Highest Continuity Errors"        "Time-Step Critical Elements"     </span></span>
<span><span class="co">#&gt; [17] "Highest Flow Instability Indexes" "Routing Time Step Summary"       </span></span>
<span><span class="co">#&gt; [19] "Subcatchment Runoff Summary"      "LID Performance Summary"         </span></span>
<span><span class="co">#&gt; [21] "Subcatchment Washoff Summary"     "Node Depth Summary"              </span></span>
<span><span class="co">#&gt; [23] "Node Inflow Summary"              "Node Flooding Summary"           </span></span>
<span><span class="co">#&gt; [25] "Outfall Loading Summary"          "Link Flow Summary"               </span></span>
<span><span class="co">#&gt; [27] "Conduit Surcharge Summary"        "Link Pollutant Load Summary"     </span></span>
<span><span class="co">#&gt; [29] "Pumping Summary"                  "Groundwater Summary"             </span></span>
<span><span class="co">#&gt; [31] "LID Control Summary"              "Node Surcharge Summary"          </span></span>
<span><span class="co">#&gt; [33] "Storage Volume Summary"           "Flow Classification Summary"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="what-happens-on-read_rpt">What happens on <code>read_rpt</code>?<a class="anchor" aria-label="anchor" href="#what-happens-on-read_rpt"></a>
</h2>
<p>Report files are read in the same manner like <code>inp</code> files.
The output will be a <code>tibble</code> for each summary, which results
as a list of <code>tibbles</code> for a single <code>rpt</code>
file.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dominik Leutnant, Anneke Doering.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
